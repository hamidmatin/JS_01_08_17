<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #progress {
        position: fixed;
        z-index: 10;
        left: 0;
        top: 0;
        width: 100vw;
        height: 1vh;
        transform-origin: 0 50%;
        transform: scaleX(0);
        background: red;
      }

      /** NON ESSENTIAL STYLES BELOW **/
      html,
      body {
        margin: 0;
        padding: 0;
        background: #fff;
      }

      body {
        font-size: clamp(1.1em, calc(0.5em + 1vw), 3em);
        line-height: 1.42;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
          "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
          "Helvetica Neue", sans-serif;
      }

      main {
        font-weight: 300;
        width: 90vw;
        max-width: 40em;
        margin: 0 auto;
        padding: 4em 0;
      }

      main img {
        width: 100%;
        height: auto;
      }

      .warning {
        padding: 1em;
        border: 1px solid #ccc;
        background: rgba(255 255 205 / 0.8);
        display: none;
      }

      .warning p {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="progress"></div>
    <main>
      <h1>The Polar Bear</h1>
      <div class="warning">
        <p>
          ⚠️ Your browser does not support CSS Scroll-Linked Animations, so this
          demo won't work. If you're feeling adventurous use Chrome 89 with
          “Experimental Web Platform Features” enabled. Alternatively you can
          <a
            href="https://twitter.com/bramus/status/1349502069141598214"
            target="_top"
            >watch a recording of this feature in action</a
          >.
        </p>
      </div>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer mattis
        turpis eu neque tincidunt lacinia. Pellentesque habitant morbi tristique
        senectus et netus et malesuada fames ac turpis egestas. Aliquam auctor
        ultrices tortor et volutpat. Donec eu semper orci, eu fermentum orci.
        Vivamus aliquam lobortis egestas. Proin vel mauris vitae sem auctor
        cursus. Aenean sit amet odio at magna pharetra luctus nec eget urna.
        Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere
        cubilia curae; Praesent in leo at tellus ultricies laoreet.
      </p>

      <p>
        Nam pulvinar congue condimentum. Pellentesque fringilla ante sed massa
        tincidunt feugiat. Nulla bibendum est eros, non malesuada dolor vehicula
        in. Morbi eu cursus arcu. Phasellus ultricies ornare lorem, non interdum
        orci condimentum eu. Donec condimentum condimentum ligula ut placerat.
        Vestibulum id neque condimentum, molestie nunc vel, suscipit turpis.
        Quisque orci velit, mattis et nibh non, tempor finibus erat. Nullam
        tristique, tortor non commodo cursus, magna turpis rhoncus leo, quis
        porta quam ante sed orci. Nunc vehicula imperdiet leo in vulputate.
        Quisque quis dolor orci.
      </p>

      <p>
        Curabitur ultrices fringilla libero sit amet porta. Nulla rhoncus
        venenatis euismod. Praesent non interdum sem. Nunc in nibh tincidunt,
        faucibus sem at, finibus turpis. Nullam vel odio blandit, tincidunt urna
        et, luctus lectus. Vivamus porta sem vitae turpis interdum porta eu id
        ligula. Fusce non nisi fringilla, malesuada metus ut, imperdiet ligula.
        Nunc quis lorem nibh. Duis pharetra magna vestibulum metus convallis, id
        mollis ligula vulputate. Sed purus est, consectetur non suscipit sit
        amet, hendrerit at dolor. Maecenas feugiat, quam vel ullamcorper
        feugiat, sapien ipsum viverra justo, id cursus metus nisi quis enim.
      </p>

      <p>
        Duis nec nisi a eros dictum euismod nec non enim. Donec augue neque,
        aliquam id finibus a, volutpat ut ligula. Nam feugiat odio elit, ut
        molestie mi tempus vel. Etiam vitae velit eget massa scelerisque
        hendrerit cursus vel justo. Sed eget euismod lectus. Morbi tincidunt
        diam ac diam tempor molestie. Mauris eget lectus leo. Etiam id porta
        turpis.
      </p>

      <p>
        Aenean ac pellentesque ante. In hac habitasse platea dictumst. Nullam
        efficitur, dolor ac pharetra iaculis, sem elit maximus ex, et malesuada
        est ipsum tempor nisi. Phasellus auctor et turpis ultrices fermentum.
        Mauris ac orci sapien. Quisque auctor, mi eu vestibulum dictum, nisl
        felis pulvinar dui, non dictum justo tellus a urna. Morbi suscipit et
        odio a feugiat. Sed dui nisi, iaculis a lacus posuere, dictum laoreet
        felis. Class aptent taciti sociosqu ad litora torquent per conubia
        nostra, per inceptos himenaeos.
      </p>

      <p>
        <img
          src="https://assets.codepen.io/89905/photo-1610570426407-efa770f9d31a.jpeg?width=1635&height=1090&format=auto&quality=60"
          alt=""
          title=""
          width="1080"
          height="720"
          class="revealing-image"
          id="revealing-image-1"
        /><br /><a href="https://unsplash.com/photos/PX_1j-M59I8"
          >Polar bear walking</a
        >
        by <a href="https://unsplash.com/@dtbosse">Daniel Bosse</a>
      </p>

      <p>
        Nam pulvinar congue condimentum. Pellentesque fringilla ante sed massa
        tincidunt feugiat. Nulla bibendum est eros, non malesuada dolor vehicula
        in. Morbi eu cursus arcu. Phasellus ultricies ornare lorem, non interdum
        orci condimentum eu. Donec condimentum condimentum ligula ut placerat.
        Vestibulum id neque condimentum, molestie nunc vel, suscipit turpis.
        Quisque orci velit, mattis et nibh non, tempor finibus erat. Nullam
        tristique, tortor non commodo cursus, magna turpis rhoncus leo, quis
        porta quam ante sed orci. Nunc vehicula imperdiet leo in vulputate.
        Quisque quis dolor orci.
      </p>

      <p>
        Curabitur ultrices fringilla libero sit amet porta. Nulla rhoncus
        venenatis euismod. Praesent non interdum sem. Nunc in nibh tincidunt,
        faucibus sem at, finibus turpis. Nullam vel odio blandit, tincidunt urna
        et, luctus lectus. Vivamus porta sem vitae turpis interdum porta eu id
        ligula. Fusce non nisi fringilla, malesuada metus ut, imperdiet ligula.
        Nunc quis lorem nibh. Duis pharetra magna vestibulum metus convallis, id
        mollis ligula vulputate. Sed purus est, consectetur non suscipit sit
        amet, hendrerit at dolor. Maecenas feugiat, quam vel ullamcorper
        feugiat, sapien ipsum viverra justo, id cursus metus nisi quis enim.
      </p>

      <p>
        Duis nec nisi a eros dictum euismod nec non enim. Donec augue neque,
        aliquam id finibus a, volutpat ut ligula. Nam feugiat odio elit, ut
        molestie mi tempus vel. Etiam vitae velit eget massa scelerisque
        hendrerit cursus vel justo. Sed eget euismod lectus. Morbi tincidunt
        diam ac diam tempor molestie. Mauris eget lectus leo. Etiam id porta
        turpis.
      </p>

      <p>
        Aenean ac pellentesque ante. In hac habitasse platea dictumst. Nullam
        efficitur, dolor ac pharetra iaculis, sem elit maximus ex, et malesuada
        est ipsum tempor nisi. Phasellus auctor et turpis ultrices fermentum.
        Mauris ac orci sapien. Quisque auctor, mi eu vestibulum dictum, nisl
        felis pulvinar dui, non dictum justo tellus a urna. Morbi suscipit et
        odio a feugiat. Sed dui nisi, iaculis a lacus posuere, dictum laoreet
        felis. Class aptent taciti sociosqu ad litora torquent per conubia
        nostra, per inceptos himenaeos.
      </p>

      <p>
        <img
          src="https://assets.codepen.io/89905/photo-1610570311113-79ba0e69768d.jpeg?width=1635&height=1090&format=auto&quality=60"
          alt=""
          title=""
          width="1080"
          height="720"
          class="revealing-image"
          id="revealing-image-2"
        /><br /><a href="https://unsplash.com/photos/Fk4Y_VkUlSQ"
          >Polar bear shaking off water</a
        >
        by <a href="https://unsplash.com/@dtbosse">Daniel Bosse</a>
      </p>

      <p>
        Curabitur ultrices fringilla libero sit amet porta. Nulla rhoncus
        venenatis euismod. Praesent non interdum sem. Nunc in nibh tincidunt,
        faucibus sem at, finibus turpis. Nullam vel odio blandit, tincidunt urna
        et, luctus lectus. Vivamus porta sem vitae turpis interdum porta eu id
        ligula. Fusce non nisi fringilla, malesuada metus ut, imperdiet ligula.
        Nunc quis lorem nibh. Duis pharetra magna vestibulum metus convallis, id
        mollis ligula vulputate. Sed purus est, consectetur non suscipit sit
        amet, hendrerit at dolor. Maecenas feugiat, quam vel ullamcorper
        feugiat, sapien ipsum viverra justo, id cursus metus nisi quis enim.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer mattis
        turpis eu neque tincidunt lacinia. Pellentesque habitant morbi tristique
        senectus et netus et malesuada fames ac turpis egestas. Aliquam auctor
        ultrices tortor et volutpat. Donec eu semper orci, eu fermentum orci.
        Vivamus aliquam lobortis egestas. Proin vel mauris vitae sem auctor
        cursus. Aenean sit amet odio at magna pharetra luctus nec eget urna.
        Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere
        cubilia curae; Praesent in leo at tellus ultricies laoreet.
      </p>

      <p>
        Duis nec nisi a eros dictum euismod nec non enim. Donec augue neque,
        aliquam id finibus a, volutpat ut ligula. Nam feugiat odio elit, ut
        molestie mi tempus vel. Etiam vitae velit eget massa scelerisque
        hendrerit cursus vel justo. Sed eget euismod lectus. Morbi tincidunt
        diam ac diam tempor molestie. Mauris eget lectus leo. Etiam id porta
        turpis.
      </p>

      <p>
        Aenean ac pellentesque ante. In hac habitasse platea dictumst. Nullam
        efficitur, dolor ac pharetra iaculis, sem elit maximus ex, et malesuada
        est ipsum tempor nisi. Phasellus auctor et turpis ultrices fermentum.
        Mauris ac orci sapien. Quisque auctor, mi eu vestibulum dictum, nisl
        felis pulvinar dui, non dictum justo tellus a urna. Morbi suscipit et
        odio a feugiat. Sed dui nisi, iaculis a lacus posuere, dictum laoreet
        felis. Class aptent taciti sociosqu ad litora torquent per conubia
        nostra, per inceptos himenaeos.
      </p>

      <p>
        Curabitur ultrices fringilla libero sit amet porta. Nulla rhoncus
        venenatis euismod. Praesent non interdum sem. Nunc in nibh tincidunt,
        faucibus sem at, finibus turpis. Nullam vel odio blandit, tincidunt urna
        et, luctus lectus. Vivamus porta sem vitae turpis interdum porta eu id
        ligula. Fusce non nisi fringilla, malesuada metus ut, imperdiet ligula.
        Nunc quis lorem nibh. Duis pharetra magna vestibulum metus convallis, id
        mollis ligula vulputate. Sed purus est, consectetur non suscipit sit
        amet, hendrerit at dolor. Maecenas feugiat, quam vel ullamcorper
        feugiat, sapien ipsum viverra justo, id cursus metus nisi quis enim.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer mattis
        turpis eu neque tincidunt lacinia. Pellentesque habitant morbi tristique
        senectus et netus et malesuada fames ac turpis egestas. Aliquam auctor
        ultrices tortor et volutpat. Donec eu semper orci, eu fermentum orci.
        Vivamus aliquam lobortis egestas. Proin vel mauris vitae sem auctor
        cursus. Aenean sit amet odio at magna pharetra luctus nec eget urna.
        Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere
        cubilia curae; Praesent in leo at tellus ultricies laoreet.
      </p>

      <p>
        Duis nec nisi a eros dictum euismod nec non enim. Donec augue neque,
        aliquam id finibus a, volutpat ut ligula. Nam feugiat odio elit, ut
        molestie mi tempus vel. Etiam vitae velit eget massa scelerisque
        hendrerit cursus vel justo. Sed eget euismod lectus. Morbi tincidunt
        diam ac diam tempor molestie. Mauris eget lectus leo. Etiam id porta
        turpis.
      </p>

      <p>
        Aenean ac pellentesque ante. In hac habitasse platea dictumst. Nullam
        efficitur, dolor ac pharetra iaculis, sem elit maximus ex, et malesuada
        est ipsum tempor nisi. Phasellus auctor et turpis ultrices fermentum.
        Mauris ac orci sapien. Quisque auctor, mi eu vestibulum dictum, nisl
        felis pulvinar dui, non dictum justo tellus a urna. Morbi suscipit et
        odio a feugiat. Sed dui nisi, iaculis a lacus posuere, dictum laoreet
        felis. Class aptent taciti sociosqu ad litora torquent per conubia
        nostra, per inceptos himenaeos.
      </p>
    </main>

    <script src="https://rawcdn.githack.com/flackr/scroll-timeline/637746fa559c3f9d01fcdaf2fcb7e649d18dfc33/dist/scroll-timeline.js"></script>
    <script>
      // 💡 Looking for a pure CSS Version? ~> https://codepen.io/bramus/pen/WNGLpyV

      // Polyfill for browsers with no Scroll-Timeline support
    //   import "https://rawcdn.githack.com/flackr/scroll-timeline/637746fa559c3f9d01fcdaf2fcb7e649d18dfc33/dist/scroll-timeline.js";

      // Create ScrollTimeline
      const myScrollTimeline = new ScrollTimeline({
        source: document.scrollingElement,
        scrollSource: document.scrollingElement, // For legacy implementations
        orientation: "block",
        scrollOffsets: [
          new CSSUnitValue(0, "percent"),
          new CSSUnitValue(100, "percent"),
        ],
      });

      // Animate Progress Bar on Scroll
      new Animation(
        new KeyframeEffect(
          document.querySelector("#progress"),
          {
            transform: ["scaleX(0)", "scaleX(1)"],
          },
          { duration: 1, fill: "forwards" }
        ),
        myScrollTimeline
      ).play();
    </script>
  </body>
</html>
